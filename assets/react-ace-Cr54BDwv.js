import{c as y,a as D,e as le}from"./ace-builds-Cgm2p2gx.js";import{p as Q}from"./prop-types-BKNjMPK8.js";import{r as X}from"./react-VYA-lcto.js";import{l as ie}from"./lodash.isequal-Dag8EQ_z.js";import{l as pe}from"./lodash.get-CyNCjhV-.js";import{d as he}from"./diff-match-patch-CVofqCa5.js";var N={},Y={},S={};Object.defineProperty(S,"__esModule",{value:!0});S.getAceInstance=S.debounce=S.editorEvents=S.editorOptions=void 0;var ce=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];S.editorOptions=ce;var de=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];S.editorEvents=de;var ue=function(){var p;return typeof window>"u"?(y.window={},p=D,delete y.window):window.ace?(p=window.ace,p.acequire=window.ace.require||window.ace.acequire):p=D,p};S.getAceInstance=ue;var fe=function(p,r){var e=null;return function(){var t=this,o=arguments;clearTimeout(e),e=setTimeout(function(){p.apply(t,o)},r)}};S.debounce=fe;var ge=y&&y.__extends||function(){var p=function(r,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])},p(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),q=y&&y.__assign||function(){return q=Object.assign||function(p){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(p[o]=r[o])}return p},q.apply(this,arguments)};Object.defineProperty(Y,"__esModule",{value:!0});var me=D,i=Q,te=X,G=ie,z=S,oe=(0,z.getAceInstance)(),ve=function(p){ge(r,p);function r(e){var t=p.call(this,e)||this;return z.editorEvents.forEach(function(o){t[o]=t[o].bind(t)}),t.debounce=z.debounce,t}return r.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},r.prototype.componentDidMount=function(){var e=this,t=this.props,o=t.className,n=t.onBeforeLoad,a=t.onValidate,m=t.mode,d=t.focus,f=t.theme,h=t.fontSize,u=t.lineHeight,g=t.value,v=t.defaultValue,w=t.showGutter,O=t.wrapEnabled,_=t.showPrintMargin,C=t.scrollMargin,b=C===void 0?[0,0,0,0]:C,L=t.keyboardHandler,F=t.onLoad,H=t.commands,$=t.annotations,j=t.markers,T=t.placeholder;this.editor=oe.edit(this.refEditor),n&&n(oe);for(var P=Object.keys(this.props.editorProps),A=0;A<P.length;A++)this.editor[P[A]]=this.props.editorProps[P[A]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(b[0],b[1],b[2],b[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof m=="string"?"ace/mode/".concat(m):m),f&&f!==""&&this.editor.setTheme("ace/theme/".concat(f)),this.editor.setFontSize(typeof h=="number"?"".concat(h,"px"):h),u&&(this.editor.container.style.lineHeight=typeof u=="number"?"".concat(u,"px"):"".concat(u),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(v||g||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(w),this.editor.getSession().setUseWrapMode(O),this.editor.setShowPrintMargin(_),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),T&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),a&&this.editor.getSession().on("changeAnnotation",function(){var l=e.editor.getSession().getAnnotations();e.props.onValidate(l)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations($||[]),j&&j.length>0&&this.handleMarkers(j);var k=this.editor.$options;z.editorOptions.forEach(function(l){k.hasOwnProperty(l)?e.editor.setOption(l,e.props[l]):e.props[l]&&console.warn("ReactAce: editor option ".concat(l," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(H)&&H.forEach(function(l){typeof l.exec=="string"?e.editor.commands.bindKey(l.bindKey,l.exec):e.editor.commands.addCommand(l)}),L&&this.editor.setKeyboardHandler("ace/keyboard/"+L),o&&(this.refEditor.className+=" "+o),F&&F(this.editor),this.editor.resize(),d&&this.editor.focus()},r.prototype.componentDidUpdate=function(e){for(var t=e,o=this.props,n=0;n<z.editorOptions.length;n++){var a=z.editorOptions[n];o[a]!==t[a]&&this.editor.setOption(a,o[a])}if(o.className!==t.className){var m=this.refEditor.className,d=m.trim().split(" "),f=t.className.trim().split(" ");f.forEach(function(g){var v=d.indexOf(g);d.splice(v,1)}),this.refEditor.className=" "+o.className+" "+d.join(" ")}var h=this.editor&&o.value!=null&&this.editor.getValue()!==o.value;if(h){this.silent=!0;var u=this.editor.session.selection.toJSON();this.editor.setValue(o.value,o.cursorStart),this.editor.session.selection.fromJSON(u),this.silent=!1}o.placeholder!==t.placeholder&&this.updatePlaceholder(),o.mode!==t.mode&&this.editor.getSession().setMode(typeof o.mode=="string"?"ace/mode/".concat(o.mode):o.mode),o.theme!==t.theme&&this.editor.setTheme("ace/theme/"+o.theme),o.keyboardHandler!==t.keyboardHandler&&(o.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+o.keyboardHandler):this.editor.setKeyboardHandler(null)),o.fontSize!==t.fontSize&&this.editor.setFontSize(typeof o.fontSize=="number"?"".concat(o.fontSize,"px"):o.fontSize),o.lineHeight!==t.lineHeight&&(this.editor.container.style.lineHeight=typeof o.lineHeight=="number"?"".concat(o.lineHeight,"px"):o.lineHeight,this.editor.renderer.updateFontSize()),o.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(o.wrapEnabled),o.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(o.showPrintMargin),o.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(o.showGutter),G(o.setOptions,t.setOptions)||this.handleOptions(o),(h||!G(o.annotations,t.annotations))&&this.editor.getSession().setAnnotations(o.annotations||[]),!G(o.markers,t.markers)&&Array.isArray(o.markers)&&this.handleMarkers(o.markers),G(o.scrollMargin,t.scrollMargin)||this.handleScrollMargins(o.scrollMargin),(e.height!==this.props.height||e.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!e.focus&&this.editor.focus()},r.prototype.handleScrollMargins=function(e){e===void 0&&(e=[0,0,0,0]),this.editor.renderer.setScrollMargin(e[0],e[1],e[2],e[3])},r.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},r.prototype.onChange=function(e){if(this.editor&&this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}},r.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}},r.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}},r.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e),this.props.placeholder&&this.updatePlaceholder()},r.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e,this.editor)},r.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)},r.prototype.onCopy=function(e){var t=e.text;this.props.onCopy&&this.props.onCopy(t)},r.prototype.onPaste=function(e){var t=e.text;this.props.onPaste&&this.props.onPaste(t)},r.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},r.prototype.handleOptions=function(e){for(var t=Object.keys(e.setOptions),o=0;o<t.length;o++)this.editor.setOption(t[o],e.setOptions[t[o]])},r.prototype.handleMarkers=function(e){var t=this,o=this.editor.getSession().getMarkers(!0);for(var n in o)o.hasOwnProperty(n)&&this.editor.getSession().removeMarker(o[n].id);o=this.editor.getSession().getMarkers(!1);for(var n in o)o.hasOwnProperty(n)&&o[n].clazz!=="ace_active-line"&&o[n].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(o[n].id);e.forEach(function(a){var m=a.startRow,d=a.startCol,f=a.endRow,h=a.endCol,u=a.className,g=a.type,v=a.inFront,w=v===void 0?!1:v,O=new me.Range(m,d,f,h);t.editor.getSession().addMarker(O,u,g,w)})},r.prototype.updatePlaceholder=function(){var e=this.editor,t=this.props.placeholder,o=!e.session.getValue().length,n=e.renderer.placeholderNode;!o&&n?(e.renderer.scroller.removeChild(e.renderer.placeholderNode),e.renderer.placeholderNode=null):o&&!n?(n=e.renderer.placeholderNode=document.createElement("div"),n.textContent=t||"",n.className="ace_comment ace_placeholder",n.style.padding="0 9px",n.style.position="absolute",n.style.zIndex="3",e.renderer.scroller.appendChild(n)):o&&n&&(n.textContent=t)},r.prototype.updateRef=function(e){this.refEditor=e},r.prototype.render=function(){var e=this.props,t=e.name,o=e.width,n=e.height,a=e.style,m=q({width:o,height:n},a);return te.createElement("div",{ref:this.updateRef,id:t,style:m})},r.propTypes={mode:i.oneOfType([i.string,i.object]),focus:i.bool,theme:i.string,name:i.string,className:i.string,height:i.string,width:i.string,fontSize:i.oneOfType([i.number,i.string]),lineHeight:i.oneOfType([i.number,i.string]),showGutter:i.bool,onChange:i.func,onCopy:i.func,onPaste:i.func,onFocus:i.func,onInput:i.func,onBlur:i.func,onScroll:i.func,value:i.string,defaultValue:i.string,onLoad:i.func,onSelectionChange:i.func,onCursorChange:i.func,onBeforeLoad:i.func,onValidate:i.func,minLines:i.number,maxLines:i.number,readOnly:i.bool,highlightActiveLine:i.bool,tabSize:i.number,showPrintMargin:i.bool,cursorStart:i.number,debounceChangePeriod:i.number,editorProps:i.object,setOptions:i.object,style:i.object,scrollMargin:i.array,annotations:i.array,markers:i.array,keyboardHandler:i.string,wrapEnabled:i.bool,enableSnippets:i.bool,enableBasicAutocompletion:i.oneOfType([i.bool,i.array]),enableLiveAutocompletion:i.oneOfType([i.bool,i.array]),navigateToFileEnd:i.bool,commands:i.array,placeholder:i.string},r.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},r}(te.Component);Y.default=ve;var Z={},V={},ye=y&&y.__extends||function(){var p=function(r,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])},p(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),J=y&&y.__assign||function(){return J=Object.assign||function(p){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(p[o]=r[o])}return p},J.apply(this,arguments)};Object.defineProperty(V,"__esModule",{value:!0});var x=S,K=(0,x.getAceInstance)(),be=D,Se=le,s=Q,ne=X,W=ie,E=pe,we=function(p){ye(r,p);function r(e){var t=p.call(this,e)||this;return x.editorEvents.forEach(function(o){t[o]=t[o].bind(t)}),t.debounce=x.debounce,t}return r.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},r.prototype.componentDidMount=function(){var e=this,t=this.props,o=t.className,n=t.onBeforeLoad,a=t.mode,m=t.focus,d=t.theme,f=t.fontSize,h=t.value,u=t.defaultValue,g=t.cursorStart,v=t.showGutter,w=t.wrapEnabled,O=t.showPrintMargin,_=t.scrollMargin,C=_===void 0?[0,0,0,0]:_,b=t.keyboardHandler,L=t.onLoad,F=t.commands,H=t.annotations,$=t.markers,j=t.splits;this.editor=K.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(d)),n&&n(K);var T=Object.keys(this.props.editorProps),P=new Se.Split(this.editor.container,"ace/theme/".concat(d),j);this.editor.env.split=P,this.splitEditor=P.getEditor(0),this.split=P,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var A=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),P.forEach(function(l,I){for(var M=0;M<T.length;M++)l[T[M]]=e.props.editorProps[T[M]];var ee=E(u,I),se=E(h,I,"");l.session.setUndoManager(new K.UndoManager),l.setTheme("ace/theme/".concat(d)),l.renderer.setScrollMargin(C[0],C[1],C[2],C[3]),l.getSession().setMode("ace/mode/".concat(a)),l.setFontSize(f),l.renderer.setShowGutter(v),l.getSession().setUseWrapMode(w),l.setShowPrintMargin(O),l.on("focus",e.onFocus),l.on("blur",e.onBlur),l.on("input",e.onInput),l.on("copy",e.onCopy),l.on("paste",e.onPaste),l.on("change",e.onChange),l.getSession().selection.on("changeSelection",e.onSelectionChange),l.getSession().selection.on("changeCursor",e.onCursorChange),l.session.on("changeScrollTop",e.onScroll),l.setValue(ee===void 0?se:ee,g);var ae=E(H,I,[]),U=E($,I,[]);l.getSession().setAnnotations(ae),U&&U.length>0&&e.handleMarkers(U,l);for(var M=0;M<x.editorOptions.length;M++){var R=x.editorOptions[M];A.hasOwnProperty(R)?l.setOption(R,e.props[R]):e.props[R]&&console.warn("ReaceAce: editor option ".concat(R," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}e.handleOptions(e.props,l),Array.isArray(F)&&F.forEach(function(B){typeof B.exec=="string"?l.commands.bindKey(B.bindKey,B.exec):l.commands.addCommand(B)}),b&&l.setKeyboardHandler("ace/keyboard/"+b)}),o&&(this.refEditor.className+=" "+o),m&&this.splitEditor.focus();var k=this.editor.env.split;k.setOrientation(this.props.orientation==="below"?k.BELOW:k.BESIDE),k.resize(!0),L&&L(k)},r.prototype.componentDidUpdate=function(e){var t=this,o=e,n=this.props,a=this.editor.env.split;if(n.splits!==o.splits&&a.setSplits(n.splits),n.orientation!==o.orientation&&a.setOrientation(n.orientation==="below"?a.BELOW:a.BESIDE),a.forEach(function(h,u){n.mode!==o.mode&&h.getSession().setMode("ace/mode/"+n.mode),n.keyboardHandler!==o.keyboardHandler&&(n.keyboardHandler?h.setKeyboardHandler("ace/keyboard/"+n.keyboardHandler):h.setKeyboardHandler(null)),n.fontSize!==o.fontSize&&h.setFontSize(n.fontSize),n.wrapEnabled!==o.wrapEnabled&&h.getSession().setUseWrapMode(n.wrapEnabled),n.showPrintMargin!==o.showPrintMargin&&h.setShowPrintMargin(n.showPrintMargin),n.showGutter!==o.showGutter&&h.renderer.setShowGutter(n.showGutter);for(var g=0;g<x.editorOptions.length;g++){var v=x.editorOptions[g];n[v]!==o[v]&&h.setOption(v,n[v])}W(n.setOptions,o.setOptions)||t.handleOptions(n,h);var w=E(n.value,u,"");if(h.getValue()!==w){t.silent=!0;var O=h.session.selection.toJSON();h.setValue(w,n.cursorStart),h.session.selection.fromJSON(O),t.silent=!1}var _=E(n.annotations,u,[]),C=E(o.annotations,u,[]);W(_,C)||h.getSession().setAnnotations(_);var b=E(n.markers,u,[]),L=E(o.markers,u,[]);!W(b,L)&&Array.isArray(b)&&t.handleMarkers(b,h)}),n.className!==o.className){var m=this.refEditor.className,d=m.trim().split(" "),f=o.className.trim().split(" ");f.forEach(function(h){var u=d.indexOf(h);d.splice(u,1)}),this.refEditor.className=" "+n.className+" "+d.join(" ")}n.theme!==o.theme&&a.setTheme("ace/theme/"+n.theme),n.focus&&!o.focus&&this.splitEditor.focus(),(n.height!==this.props.height||n.width!==this.props.width)&&this.editor.resize()},r.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},r.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=[];this.editor.env.split.forEach(function(o){t.push(o.getValue())}),this.props.onChange(t,e)}},r.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=[];this.editor.env.split.forEach(function(o){t.push(o.getSelection())}),this.props.onSelectionChange(t,e)}},r.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=[];this.editor.env.split.forEach(function(o){t.push(o.getSelection())}),this.props.onCursorChange(t,e)}},r.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e)},r.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e)},r.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e)},r.prototype.onCopy=function(e){this.props.onCopy&&this.props.onCopy(e)},r.prototype.onPaste=function(e){this.props.onPaste&&this.props.onPaste(e)},r.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},r.prototype.handleOptions=function(e,t){for(var o=Object.keys(e.setOptions),n=0;n<o.length;n++)t.setOption(o[n],e.setOptions[o[n]])},r.prototype.handleMarkers=function(e,t){var o=t.getSession().getMarkers(!0);for(var n in o)o.hasOwnProperty(n)&&t.getSession().removeMarker(o[n].id);o=t.getSession().getMarkers(!1);for(var n in o)o.hasOwnProperty(n)&&t.getSession().removeMarker(o[n].id);e.forEach(function(a){var m=a.startRow,d=a.startCol,f=a.endRow,h=a.endCol,u=a.className,g=a.type,v=a.inFront,w=v===void 0?!1:v,O=new be.Range(m,d,f,h);t.getSession().addMarker(O,u,g,w)})},r.prototype.updateRef=function(e){this.refEditor=e},r.prototype.render=function(){var e=this.props,t=e.name,o=e.width,n=e.height,a=e.style,m=J({width:o,height:n},a);return ne.createElement("div",{ref:this.updateRef,id:t,style:m})},r.propTypes={className:s.string,debounceChangePeriod:s.number,defaultValue:s.arrayOf(s.string),focus:s.bool,fontSize:s.oneOfType([s.number,s.string]),height:s.string,mode:s.string,name:s.string,onBlur:s.func,onChange:s.func,onCopy:s.func,onFocus:s.func,onInput:s.func,onLoad:s.func,onPaste:s.func,onScroll:s.func,orientation:s.string,showGutter:s.bool,splits:s.number,theme:s.string,value:s.arrayOf(s.string),width:s.string,onSelectionChange:s.func,onCursorChange:s.func,onBeforeLoad:s.func,minLines:s.number,maxLines:s.number,readOnly:s.bool,highlightActiveLine:s.bool,tabSize:s.number,showPrintMargin:s.bool,cursorStart:s.number,editorProps:s.object,setOptions:s.object,style:s.object,scrollMargin:s.array,annotations:s.array,markers:s.array,keyboardHandler:s.string,wrapEnabled:s.bool,enableBasicAutocompletion:s.oneOfType([s.bool,s.array]),enableLiveAutocompletion:s.oneOfType([s.bool,s.array]),commands:s.array},r.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},r}(ne.Component);V.default=we;var Oe=y&&y.__extends||function(){var p=function(r,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])},p(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();Object.defineProperty(Z,"__esModule",{value:!0});var c=Q,re=X,Ce=V,Ee=he,Pe=function(p){Oe(r,p);function r(e){var t=p.call(this,e)||this;return t.state={value:t.props.value},t.onChange=t.onChange.bind(t),t.diff=t.diff.bind(t),t}return r.prototype.componentDidUpdate=function(){var e=this.props.value;e!==this.state.value&&this.setState({value:e})},r.prototype.onChange=function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)},r.prototype.diff=function(){var e=new Ee,t=this.state.value[0],o=this.state.value[1];if(t.length===0&&o.length===0)return[];var n=e.diff_main(t,o);e.diff_cleanupSemantic(n);var a=this.generateDiffedLines(n),m=this.setCodeMarkers(a);return m},r.prototype.generateDiffedLines=function(e){var t={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},o={left:[],right:[]},n={left:1,right:1};return e.forEach(function(a){var m=a[0],d=a[1],f=d.split(`
`).length-1;if(d.length!==0){var h=d[0],u=d[d.length-1],g=0;switch(m){case t.DIFF_EQUAL:n.left+=f,n.right+=f;break;case t.DIFF_DELETE:h===`
`&&(n.left++,f--),g=f,g===0&&o.right.push({startLine:n.right,endLine:n.right}),u===`
`&&(g-=1),o.left.push({startLine:n.left,endLine:n.left+g}),n.left+=f;break;case t.DIFF_INSERT:h===`
`&&(n.right++,f--),g=f,g===0&&o.left.push({startLine:n.left,endLine:n.left}),u===`
`&&(g-=1),o.right.push({startLine:n.right,endLine:n.right+g}),n.right+=f;break;default:throw new Error("Diff type was not defined.")}}}),o},r.prototype.setCodeMarkers=function(e){e===void 0&&(e={left:[],right:[]});for(var t=[],o={left:[],right:[]},n=0;n<e.left.length;n++){var a={startRow:e.left[n].startLine-1,endRow:e.left[n].endLine,type:"text",className:"codeMarker"};o.left.push(a)}for(var n=0;n<e.right.length;n++){var a={startRow:e.right[n].startLine-1,endRow:e.right[n].endLine,type:"text",className:"codeMarker"};o.right.push(a)}return t[0]=o.left,t[1]=o.right,t},r.prototype.render=function(){var e=this.diff();return re.createElement(Ce.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:e})},r.propTypes={cursorStart:c.number,editorProps:c.object,enableBasicAutocompletion:c.bool,enableLiveAutocompletion:c.bool,focus:c.bool,fontSize:c.number,height:c.string,highlightActiveLine:c.bool,maxLines:c.number,minLines:c.number,mode:c.string,name:c.string,className:c.string,onLoad:c.func,onPaste:c.func,onScroll:c.func,onChange:c.func,orientation:c.string,readOnly:c.bool,scrollMargin:c.array,setOptions:c.object,showGutter:c.bool,showPrintMargin:c.bool,splits:c.number,style:c.object,tabSize:c.number,theme:c.string,value:c.array,width:c.string,wrapEnabled:c.bool},r.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},r}(re.Component);Z.default=Pe;Object.defineProperty(N,"__esModule",{value:!0});N.diff=N.split=void 0;var Me=Y,_e=Z;N.diff=_e.default;var Le=V;N.split=Le.default;var je=N.default=Me.default;export{je as _};
